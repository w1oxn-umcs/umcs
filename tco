--[[

        	    MirrlandBot - Hub
        	by Comrade Alexei Petrov

                   Mirrland Side
      	  ComradeAlexeiP | Designing + Programming
      	  ChatGPT (lol)  | Programming

                   Rayfield Side
                  shlex  | Designing + Programming
                  iRay   | Programming
                  Max    | Programming
                  Damian | Programming

                   Auto-Build Side
      	  ComradeAlexeiP | Designing + Programming
      	2AreYouMental110 | Programming

]]


local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
	Name = "MirrlandBot - Hub",
	Icon = 0,
	LoadingTitle = "MirrlandBot - Hub",
	LoadingSubtitle = "by Comrade Alexei Petrov",
	ShowText = "Script",
	Theme = "Default",

	ToggleUIKeybind = "K",

	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false,

	ConfigurationSaving = {
		Enabled = true,
		FolderName = nil,
		FileName = "Big Hub"
	},

	Discord = {
		Enabled = false,
		Invite = "noinvitelink",
		RememberJoins = true
	},

	KeySystem = false,
	KeySettings = {
		Title = "Untitled",
		Subtitle = "Key System",
		Note = "No method of obtaining the key is provided",
		FileName = "Key",
		SaveKey = true,
		GrabKeyFromSite = false,
		Key = {"Hello"}
	}
})

local MainTab = Window:CreateTab("Main", 0)
local MainSection = MainTab:CreateSection("Main")

local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")

local whitelist = {
    "ComradeAlexeiP",
    "eyeyey6622",
    "ComradeDenisV", -- AlT OF: eyeyey6622
    "RealEarthWormKing",
    "RaidenovitchRaikov6",
    "SWATKoi867",
    "ComradeDmitriW" -- ALT OF: SWATKoi867
}

local blacklist = {
    "dann09123",
    "Survenity",
    "93ujs0",
    "Mahfuzumj4",
    "ComradeViktorS",
    "el_tricky12",
    "afdg544"
}

local Toggle = MainTab:CreateToggle({
    Name = "Welcome Message",
    CurrentValue = false,
    Flag = "SayMessageToggle",
    Callback = function(Value)
        _G.SayMessageActive = Value
    end,
})

Players.PlayerAdded:Connect(function(player)
    if _G.SayMessageActive then
        local greeting
        local isVIP = false
        local isBlocked = false

        for _, name in ipairs(whitelist) do
            if player.Name == name then
                isVIP = true
                break
            end
        end

        for _, name in ipairs(blacklist) do
            if player.Name == name then
                isBlocked = true
                break
            end
        end

        if isVIP then
            greeting = "Greetings, Supreme Мирском Member " .. player.Name .. "."
        elseif isBlocked then
            greeting = "⚠️WARNING: Blacklisted user " .. player.Name .. " has joined.⚠️"
        else
            greeting = "Hello, " .. player.Name .. "."
        end

        task.wait(0.2)
        TextChatService.TextChannels.RBXGeneral:SendAsync(greeting)
    end
end)

local DayNightToggle = MainTab:CreateToggle({
    Name = "Day/Night Cycle",
    CurrentValue = false,
    Flag = "DayNight",
    Callback = function(Value)
        if Value then
            _G.DayNightActive = true
            task.spawn(function()
                local hour = 6 -- start at 6 so rules trigger immediately
                while _G.DayNightActive do
                    -- send current hour
                    game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync("hour "..hour)

                    -- determine wait time
                    local waitTime
                    if hour == 6 or hour == 18 then
                        waitTime = 30
                    elseif hour >= 7 and hour <= 17 then
                        waitTime = 60
                    else
                        waitTime = 60 -- wait normally outside 6-18
                    end

                    task.wait(waitTime)

                    -- increment hour and loop 0-23
                    hour = (hour + 1) % 24
                end
            end)
        else
            _G.DayNightActive = false
        end
    end,
})

local Input = MainTab:CreateInput({
   Name = "Announcement",
   CurrentValue = "",
   PlaceholderText = "Write announcement here",
   RemoveTextAfterFocusLost = false,
   Flag = "Input1",
   Callback = function(Text)
       local fancyIntro = "📢ANNOUNCEMENT📢: "
       for i = 1, 3 do
           TextChatService.TextChannels.RBXGeneral:SendAsync(fancyIntro .. Text)
           task.wait(0.5)
       end
   end,
})

local FlyButton  = MainTab:CreateButton({
   Name = "Fly",
   Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/fly'))()
end,
})

local BkitButton  = MainTab:CreateButton({
   Name = "Steal B-TOOLS",
   Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/btools'))()
end,
})

local ClothingTab = Window:CreateTab("Clothing", 0)
local ClothingMainSection = ClothingTab:CreateSection("Main")

local Standard = ClothingTab:CreateButton({
   Name = "Set Speed",
   Callback = function()
        local commands = {";speed a 10"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local ClothingSection = ClothingTab:CreateSection("Мирском")

local MirskomButton  = ClothingTab:CreateButton({
   Name = "Мирском Uniform",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 137840120135002", ";wear n 104350730942409", ";wear n 95472082888611", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local ArmySection = ClothingTab:CreateSection("Military")

local ArmyButton  = ClothingTab:CreateButton({
   Name = "Military - People's Army",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 11539563275", ";wear n 76196788199904", ";wear n 113055068133533", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local SailorButton  = ClothingTab:CreateButton({
   Name = "Military - Sailor",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 57134170", ";wear n 76771251936005", ";wear n 106761591124278", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local WinterButton  = ClothingTab:CreateButton({
   Name = "Military - Winter Uniform",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 133329667039509", ";wear n 81963654029649", ";wear n 111972542631759", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local CivilianSection = ClothingTab:CreateSection("Civilian")

local LightBrownButton  = ClothingTab:CreateButton({
   Name = "Civilian - Light Brown",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 13017420192", ";wear n 13017423552", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local BrownButton  = ClothingTab:CreateButton({
   Name = "Civilian - Brown",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 289307853", ";wear n 289307915", ";unmute me"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local GreenButton  = ClothingTab:CreateButton({
   Name = "Civilian - Green",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 942204384", ";wear n 942204194", ";unmute me"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local BuildTab = Window:CreateTab("Auto-Build", 0)
local BuildSection = BuildTab:CreateSection("Auto-Build")

local MirrlandAutoBuildButton = BuildTab:CreateButton({
   Name = "Mirrland Auto-Build",
   Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/auto-build'))()
end,
})

local LegacyAutoBuildButton = BuildTab:CreateButton({
   Name = "[!!! POTENTIAL MALWARE !!!] Auto-Build Legacy",
   Callback = function()
		loadstring(game:HttpGet('https://rawscripts.net/raw/The-Chosen-One-Extra-Stuff-18127'))()
end,
})
