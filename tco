--[[

        	    MirrlandBot - Hub
        	by Comrade Alexei Petrov

                   Mirrland Side
      	  ComradeAlexeiP | Designing + Programming
      	  ChatGPT (lol)  | Programming

                   Rayfield Side
                  shlex  | Designing + Programming
                  iRay   | Programming
                  Max    | Programming
                  Damian | Programming

]]


local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
	Name = "MirrlandBot - Hub",
	Icon = 0,
	LoadingTitle = "MirrlandBot - Hub",
	LoadingSubtitle = "by Comrade Alexei Petrov",
	ShowText = "Script",
	Theme = "Default",

	ToggleUIKeybind = "K",

	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false,

	ConfigurationSaving = {
		Enabled = true,
		FolderName = nil,
		FileName = "Big Hub"
	},

	Discord = {
		Enabled = false,
		Invite = "noinvitelink",
		RememberJoins = true
	},

	KeySystem = false,
	KeySettings = {
		Title = "Untitled",
		Subtitle = "Key System",
		Note = "No method of obtaining the key is provided",
		FileName = "Key",
		SaveKey = true,
		GrabKeyFromSite = false,
		Key = {"Hello"}
	}
})

local MainTab = Window:CreateTab("Main", 0)
local MainSection = MainTab:CreateSection("Main")

local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")

local whitelist = {
    "ComradeAlexeiP",
    "eyeyey6622",
    "ComradeDenisV", -- ALT OF: eyeyey6622
    "RealEarthWormKing",
    "Lilcoreymery",
    "Comminuted",
    "SWATKoi867",
    "SpeedyJaxOne",
}

local blacklist = {
    "RedrawnRuben",
    "Dustblaize",
    "XTRAr21",
    "Account9198",
    "f_oxpiratefnar35",
    "MoniqueNatalie",
    "sjtxm",
    "coolescola_3",
    "King_Cat1116",
    "Meme_lord123400",
    "FireBoyVox",
    "Panter24418",
    "itzz_rblxmaya",
    "Ohiopro_doorsfan",
    "bonnie57797",
    "ALEXSTRANDDO",
    "Thelando100",
    "A_bear55555",
    "isRAELLUIZUTUF7UH",
    "KamustaJakeM3",
    "Proton_RA",
    "post_tropical",
    "Isabellagato11653",
    "wanna_beChosen",
    "vitaspitas12345",
    "jzznxd",
    "d1g1tal_top1",
    "Bing_MicrosoftWindow",
    "ssssssdrhgi00",
    "dann09123",
    "Survenity",
    "93ujs0",
    "Mahfuzumj4",
    "ComradeViktorS",
    "el_tricky12",
    "afdg544",
    "BlockyMan287",
    "9_IILoLdudeidk",
    "NEEDmoreheatrightNOW",
    "aaroncs5",
    "ilikepoland1215",
}

local Toggle = MainTab:CreateToggle({
    Name = "Welcome Message",
    CurrentValue = false,
    Flag = "SayMessageToggle",
    Callback = function(Value)
        _G.SayMessageActive = Value
    end,
})

Players.PlayerAdded:Connect(function(player)
    if _G.SayMessageActive then
        local greeting
        local isVIP = false
        local isBlocked = false

        for _, name in ipairs(whitelist) do
            if player.Name == name then
                isVIP = true
                break
            end
        end

        for _, name in ipairs(blacklist) do
            if player.Name == name then
                isBlocked = true
                break
            end
        end

        if isVIP then
            greeting = "Greetings, Supreme ĞœĞ¸Ñ€ÑĞºĞ¾Ğ¼ Member " .. player.Name .. "."
        elseif isBlocked then
            greeting = "âš ï¸WARNING: Blacklisted user " .. player.Name .. " has joined.âš ï¸"
        else
            greeting = "Hello, " .. player.Name .. "."
        end

        task.wait(0.2)
        TextChatService.TextChannels.RBXGeneral:SendAsync(greeting)
    end
end)

local DayNightToggle = MainTab:CreateToggle({
    Name = "Day/Night Cycle",
    CurrentValue = false,
    Flag = "DayNight",
    Callback = function(Value)
        if Value then
            _G.DayNightActive = true
            task.spawn(function()
                local hour = 6 -- start at 6 so rules trigger immediately
                while _G.DayNightActive do
                    game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(";hour "..hour)

                    local waitTime
                    if hour == 6 or hour == 18 then
                        waitTime = 30
                    elseif hour >= 7 and hour <= 17 then
                        waitTime = 60
                    else
                        waitTime = 60 -- wait normally outside 6-18
                    end

                    task.wait(waitTime)

                    hour = (hour + 1) % 24
                end
            end)
        else
            _G.DayNightActive = false
        end
    end,
})

local Input = MainTab:CreateInput({
   Name = "Announcement",
   CurrentValue = "",
   PlaceholderText = "Write announcement here",
   RemoveTextAfterFocusLost = false,
   Flag = "Input1",
   Callback = function(Text)
       local fancyIntro = "ğŸ“¢ANNOUNCEMENTğŸ“¢: "
       for i = 1, 3 do
           TextChatService.TextChannels.RBXGeneral:SendAsync(fancyIntro .. Text)
           task.wait(0.5)
       end
   end,
})

local GroupCheckToggle = MainTab:CreateToggle({
    Name = "Member Tag",
    CurrentValue = false,
    Flag = "UMCSTagToggle",
    Callback = function(Value)
        _G.UMCSTagActive = Value

        local GROUP_ID = 35338076

        if Value then
            game.Players.PlayerAdded:Connect(function(plr)
                local function addTag(char)
                    coroutine.wrap(function()
                        char:WaitForChild("Head", math.huge)
                        local bbgui = Instance.new("BillboardGui")
                        bbgui.Size = UDim2.new(10, 0, 1.5, 0)
                        bbgui.StudsOffset = Vector3.new(0, 3.5, 0)
                        bbgui.Parent = char.Head

                        local title = Instance.new("TextLabel")
                        title.TextScaled = true
                        title.BackgroundTransparency = 1
                        title.Size = UDim2.new(1, 0, 1, 0)
                        title.Position = UDim2.new(0, 0, -0.5, 0)
                        title.TextStrokeTransparency = 0

                        local info = Instance.new("TextLabel")
                        info.TextScaled = true
                        info.BackgroundTransparency = 1
                        info.Size = UDim2.new(1, 0, 0.5, 0)
                        info.Position = UDim2.new(0, 0, 0.5, 0)
                        info.TextStrokeTransparency = 0

                        if plr:IsInGroup(GROUP_ID) then
                            title.Text = "Member of U.M.C.S."
                            title.TextColor3 = Color3.fromRGB(120, 0, 0)
                            info.Text = plr:GetRoleInGroup(GROUP_ID)
                        else
                            title.Text = "Guest"
                            title.TextColor3 = Color3.fromRGB(100, 100, 100)
                            info.Text = ""
                        end

                        title.Parent = bbgui
                        info.TextColor3 = title.TextColor3
                        info.Parent = bbgui
                    end)()
                end

                if plr.Character then
                    addTag(plr.Character)
                end

                plr.CharacterAdded:Connect(addTag)
            end)
        end
    end,
})

local FlyButton  = MainTab:CreateButton({
   Name = "Fly",
   Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/fly'))()
end,
})

local ClothingTab = Window:CreateTab("Clothing", 0)
local ClothingMainSection = ClothingTab:CreateSection("Main")

local Standard = ClothingTab:CreateButton({
   Name = "Set Speed",
   Callback = function()
        local commands = {";speed a 10"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local ClothingSection = ClothingTab:CreateSection("ĞœĞ¸Ñ€ÑĞºĞ¾Ğ¼")

local MirskomButton  = ClothingTab:CreateButton({
   Name = "ĞœĞ¸Ñ€ÑĞºĞ¾Ğ¼ Uniform",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 137840120135002", ";wear n 104350730942409", ";wear n 95472082888611", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local ArmySection = ClothingTab:CreateSection("Services")

local ArmyButton  = ClothingTab:CreateButton({
   Name = "Military - People's Army (Cap)",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 106673971448303", ";wear n 76196788199904", ";wear n 113055068133533", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local ArmyButton  = ClothingTab:CreateButton({
   Name = "Military - People's Army (Ushanka)",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 133329667039509", ";wear n 76196788199904", ";wear n 113055068133533", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local WinterButton  = ClothingTab:CreateButton({
   Name = "Military - Winter Uniform",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 133329667039509", ";wear n 81963654029649", ";wear n 111972542631759", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local SailorButton  = ClothingTab:CreateButton({
   Name = "Military - Sailor",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 57134170", ";wear n 76771251936005", ";wear n 106761591124278", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local BorderButton  = ClothingTab:CreateButton({
   Name = "Military - Border Guard Uniform",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 97787988455285", ";wear n 85100278117650", ";wear n 107159464858349", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local CivilianSection = ClothingTab:CreateSection("Civilian")

local LightBrownButton  = ClothingTab:CreateButton({
   Name = "Civilian - Light Brown",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 13017420192", ";wear n 13017423552", ";unmute me"}

        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local BrownButton  = ClothingTab:CreateButton({
   Name = "Civilian - Brown",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 289307853", ";wear n 289307915", ";unmute me"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})

local GreenButton  = ClothingTab:CreateButton({
   Name = "Civilian - Green",
   Callback = function()
        local commands = {";mute me", ";r6 n", ";wear n 942204384", ";wear n 942204194", ";unmute me"}
        for _, cmd in ipairs(commands) do
            game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(cmd)
            task.wait(0.5)
        end
    end,
})
