local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/rayfield'))()

local Window = Rayfield:CreateWindow({
	Name = "Union of Mirrland Communist States",
	Icon = 0,
	LoadingTitle = "MirrlandBot Script",
	LoadingSubtitle = "by Premier Alexei Petrov",
	ShowText = "Script",
	Theme = "Default",

	ToggleUIKeybind = "K",

	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false,

	ConfigurationSaving = {
		Enabled = true,
		FolderName = nil,
		FileName = "Big Hub"
	},

	Discord = {
		Enabled = false,
		Invite = "noinvitelink",
		RememberJoins = true
	},

	KeySystem = false,
	KeySettings = {
		Title = "Untitled",
		Subtitle = "Key System",
		Note = "No method of obtaining the key is provided",
		FileName = "Key",
		SaveKey = true,
		GrabKeyFromSite = false,
		Key = {"Hello"}
	}
})

local MainTab = Window:CreateTab("Main", 0)
local MainSection = MainTab:CreateSection("Main")

local Button = MainTab:CreateButton({
   Name = "The Chosen One Auto-Build",
   Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/w1oxn-umcs/umcs/refs/heads/main/auto-build'))()
end,
})

local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local localplr = Players.LocalPlayer

local whitelist = {
    "ComradeAlexeiP",
    "ComradeDenisV",
    "eyeyey6622"
}

local Toggle = MainTab:CreateToggle({
    Name = "Welcome Message",
    CurrentValue = false,
    Flag = "SayMessageToggle",
    Callback = function(Value)
        _G.SayMessageActive = Value
    end,
})

Players.PlayerAdded:Connect(function(player)
    if _G.SayMessageActive then
        local greeting
        local isVIP = false
        for _, name in ipairs(whitelist) do
            if player.Name == name then
                isVIP = true
                break
            end
        end

        if isVIP then
            greeting = "Greetings, Supreme –ú–∏—Ä—Å–∫–æ–º Member " .. player.Name .. "."
        else
            greeting = "Hello, " .. player.Name .. "."
        end

        task.wait(0.2)
        TextChatService.TextChannels.RBXGeneral:SendAsync(greeting)
    end
end)

local Input = MainTab:CreateInput({
   Name = "Announcement",
   CurrentValue = "",
   PlaceholderText = "Write announcement here",
   RemoveTextAfterFocusLost = true,
   Flag = "Input1",
   Callback = function(Text)
       local fancyIntro = "üì¢ANNOUNCEMENTüì¢: "
       for i = 1, 3 do
           TextChatService.TextChannels.RBXGeneral:SendAsync(fancyIntro .. Text)
           task.wait(0.2)
       end
   end,
})
